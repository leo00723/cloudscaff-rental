<ng-container [ngSwitch]="simplified">
  <!-- Default view with file type placeholder -->
  <ng-container *ngSwitchDefault>
    <div class="position-relative border rounded-sm text-center">
      <div
        class="img-fluid p-3 d-flex flex-column align-items-center justify-content-center"
        style="min-height: 100px"
      >
        <ion-icon
          [name]="getFileIcon()"
          size="large"
          color="medium"
          class="mb-2"
        >
        </ion-icon>
        <small class="text-muted fw-bold" *ngIf="getFileExtension()">
          {{ getFileExtension() }}
        </small>
      </div>
      <ion-buttons
        class="position-absolute d-flex justify-content-between top-0 pt-2 px-1 w-100"
      >
        <ion-button
          *ngIf="allowDelete"
          (click)="deleteFile()"
          color="danger"
          shape="round"
          size="small"
          slot="start"
          fill="solid"
        >
          <ion-icon slot="icon-only" name="trash"></ion-icon>
        </ion-button>
        <ion-button
          [href]="file.downloadUrl"
          target="_blank"
          color="success"
          shape="round"
          size="small"
          slot="end"
          fill="solid"
        >
          <ion-icon slot="icon-only" name="cloud-download"></ion-icon>
        </ion-button>
      </ion-buttons>
    </div>
    <div class="text-center mt-2">
      <ion-label>{{ getTruncatedFileName() }}</ion-label>
    </div>
  </ng-container>

  <!-- Simplified list view -->
  <ion-item *ngSwitchCase="true">
    <div
      slot="start"
      class="d-flex flex-column align-items-center justify-content-center p-2"
    >
      <ion-icon [name]="getFileIcon()" size="large" color="medium"> </ion-icon>
      <small class="text-muted fw-bold" *ngIf="getFileExtension()">
        {{ getFileExtension() }}
      </small>
    </div>

    <ion-label>{{ file.file }}</ion-label>

    <ion-buttons slot="end">
      <ion-button
        *ngIf="allowDelete"
        (click)="deleteFile()"
        color="danger"
        shape="round"
        size="small"
      >
        <ion-icon name="trash"></ion-icon>
      </ion-button>
      <ion-button
        [href]="file.downloadUrl"
        target="_blank"
        shape="round"
        color="success"
        size="small"
      >
        <ion-icon slot="icon-only" name="cloud-download"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-item>
</ng-container>
