<ng-container [ngSwitch]="simplified">
  <ng-container *ngSwitchDefault>
    <div class="position-relative border rounded-sm text-center">
      <div class="img-fluid p-1">
        <ion-img
          [alt]="file.file"
          style="aspect-ratio: 1/1; object-fit: contain"
          [src]="
            file.type.startsWith('image')
              ? file.downloadUrl
              : 'assets/no-preview.webp'
          "
        ></ion-img>
      </div>
      <ion-buttons
        class="position-absolute d-flex justify-content-between top-0 pt-2 px-1 w-100"
      >
        <ion-button
          *ngIf="allowDelete"
          (click)="deleteFile()"
          color="danger"
          shape="round"
          size="small"
          slot="start"
          fill="solid"
        >
          <ion-icon slot="icon-only" name="trash"></ion-icon>
        </ion-button>
        <ion-button
          [href]="file.downloadUrl"
          target="_blank"
          color="success"
          shape="round"
          size="small"
          slot="end"
          fill="solid"
        >
          <ion-icon slot="icon-only" name="cloud-download"></ion-icon>
        </ion-button>
      </ion-buttons>
    </div>
    <div class="text-center mt-2">
      <ion-label>{{ file.file | slice : 0 : 20 }}...</ion-label>
    </div>
  </ng-container>

  <ion-item *ngSwitchCase="true">
    <ion-thumbnail slot="start">
      <ion-img
        [alt]="file.file"
        style="aspect-ratio: 1/1; object-fit: contain"
        [src]="
          file.type.startsWith('image')
            ? file.downloadUrl
            : 'assets/no-preview.webp'
        "
      ></ion-img>
    </ion-thumbnail>

    <ion-label> {{ file.file }} </ion-label>
    <ion-button
      slot="end"
      *ngIf="allowDelete"
      (click)="deleteFile()"
      color="danger"
      shape="round"
      size="small"
    >
      <ion-icon name="trash"></ion-icon>
    </ion-button>
    <ion-button
      slot="end"
      [href]="file.downloadUrl"
      target="_blank"
      shape="round"
      color="success"
      size="small"
    >
      <ion-icon name="download"></ion-icon>
    </ion-button>
  </ion-item>
</ng-container>
